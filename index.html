<!DOCTYPE html>
<html lang="ch">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" type="text/css" href="links/css.css">
    <title>Ehirection</title>
</head>

<body id="mainpage">
    <header>
        <a href="#">
            首页
        </a>
        <a href="https://www.github.com/Timeemit-2017/Ehirection" target="_blank">
            Github
        </a>
        <a href="download.html">
            下载
        </a>
        <a href="about.html">
            关于
        </a>
        <a href="community.html">
            社区
        </a>
    </header>
    <main>
        <h1>八方 Ehirection</h1>
        <div class="row">
            <div id="ad" class="col-6" onmouseover="setPageDelay(7200000)" onmouseout="setPageDelay(3000)">
                <!-- <img id="ad-img" src="source/0.png" onload="changeImgScale(document.getElementById('ad-img'))" /> -->
                <div id="buttons">
                    <button id="left" , onclick="pagePlus(-1)">👈</button>
                    <button id="button0" , onclick="pageChange(0)">1</button>
                    <button id="button1" , onclick="pageChange(1)">2</button>
                    <button id="button2" , onclick="pageChange(2)">3</button>
                    <button id="button3" , onclick="pageChange(3)">4</button>
                    <button id="button4" , onclick="pageChange(4)">5</button>
                    <button id="right" , onclick="pagePlus(1)">👉</button>
                </div>
            </div>
            <div id="introduction" class="col-6">
                <marquee>
                    欢迎来到八方官网！并且这里是信息栏！您可以在这里查询有关于八方游戏的各种信息，包括但不限于玩法、下载方式、公告方面。
                </marquee>
                <ul>
                    <li><a href="community.html">beta 1.4.0版本前瞻</a></li>
                    <li><a href="community.html">beta 1.3.0版本更新公告</a></li>
                </ul>
            </div>
            <div id="more" class="col-12">
                <h2>详情：</h2>
                <p>
                    哦我的上帝！抛开这个网页本身不谈这个网页做的还是挺好的。只不过我们需要一些正经的东西而已。
                </p>
                <p>
                    或许我们需要更多的介绍，关于玩法什么的之类的。但是非常可惜，由于这个网页还在开发，我不打算现在就添加上，或许是因为懒吧。
                </p>
                <p>
                    但是我们仍然需要思考一下这个大板块用来放什么东西。
                </p>
                <p>
                    让我想想...
                </p>
                <p>
                    ......
                </p>
                <p>
                    ......
                </p>
                <p>
                    ......
                </p>
                <p>
                    ......
                </p>
                <p>
                    ......
                </p>
                <p>
                    ......
                </p>
                <p>
                    算了，回来再想。
                </p>
            </div>
    </main>
    <footer>
        尾部！
    </footer>
    <script language="javascript" type="text/javascript">
        // 推广板块

        changeButtonHighLight(0, 0)

        var delay = 3000;
        var thisAd = 0;
        var intervalNum = setInterval("pagePlus(1)", delay);

        function pagePlus(dire, isClick = false) {
            if (delay == 7200000 && isClick) {
                window.alert("真有耐心啊，我看你盯着这一个宣传图有够无聊，好心给你换了吧。");
            }
            oldAd = thisAd;
            thisAd += dire;
            if (thisAd > 4) {
                thisAd = 0;
            } else if (thisAd < 0) {
                thisAd = 4;
            }
            pageUpdate();
        }

        function pageChange(num) {
            // num为int（就是那个意思）
            oldAd = thisAd;
            thisAd = num;
            pageUpdate();
        }

        function pageUpdate() {
            var ad = document.getElementById("ad");
            ad.style.backgroundImage = "url(../source/" + thisAd + ".png)";
            changeButtonHighLight(oldAd, thisAd);
        }

        function setPageDelay(d) {
            delay = d;
            clearInterval(intervalNum);
            intervalNum = setInterval("pagePlus(1)", delay);
        }

        function changeImgScale(img) {
            // while (img.complete == false) {}
            var width = img.naturalWidth;
            var height = img.naturalHeight;
            var background = document.getElementById("ad");
            var bg_width = background.style.width;
            var bg_height = background.style.height;
            console.log(width, height, img.src);
            if (width > height) {
                width = "100%";
                height = "auto";
            } else {
                height = "100%";
                width = "auto";
            }

            img.style.width = width;
            img.style.height = height;
        }

        function changeButtonHighLight(lastNum, thisNum) {
            // num 为 string
            document.getElementById("button" + lastNum).style.backgroundColor = "rgba(199, 198, 137, 0.1)";
            document.getElementById("button" + thisNum).style.backgroundColor = "rgba(199, 198, 137, 1)";
            // window.alert("button" + lastNum);
            // window.alert("button" + thisNum);
        }
    </script>

</body>

</html>